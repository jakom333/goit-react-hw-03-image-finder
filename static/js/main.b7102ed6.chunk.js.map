{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.jsx","services/search-api.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChangeQuery","currentTarget","setState","value","handelSubmit","e","preventDefault","props","onSubmit","this","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","name","onChange","Component","axios","defaults","baseURL","fetchImages","search","page","get","then","data","hits","ImageGalleryItem","webformatURL","largeImageURL","tags","onSetImgInfo","openModal","console","log","src","alt","ImageGalleryItemImage","onClick","ImageGallery","images","map","id","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","event","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","isLoading","showModal","largeImageUrl","imgTags","error","handleSubmit","searchApi","length","prevState","scrollToBottom","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","setImgInfo","prevProps","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b7102ed6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2qoWa\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3K8Z3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","import React, { Component } from 'react'\nimport styles from './Searchbar.module.css'\n\nexport default class Searchbar extends Component {\n    state = {\n        query: ''\n    }\n\n    handleChangeQuery = ({ currentTarget }) => {\n        this.setState({ query: currentTarget.value });\n    };\n\n    handelSubmit = e => {\n        e.preventDefault();\n        this.props.onSubmit(this.state.query);\n        this.setState({ query: '' })\n    }\n\n    render() {\n        const { query } = this.state;\n        return (\n            <header className={styles.Searchbar}>\n                <form className={styles.SearchForm} onSubmit={this.handelSubmit}>\n                    <button type=\"submit\" className={styles.SearchFormButton}>\n                        <span className={styles.SearchFormButtonLabel}>Search</span>\n                    </button>\n\n                    <input\n                        className={styles.SearchFormInput}\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search images and photos\"\n                        name='query'\n                        value={query}\n                        onChange={this.handleChangeQuery}\n                    />\n                </form>\n            </header >\n        )\n    }\n}\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst apiKey = '20188573-7bb6e1f85b49a99e39f48e5e2';\n\nconst fetchImages = ({ search = '', page = 1 }) => {\n  return axios\n    .get(\n      `/?q=${search}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(({ data }) => data.hits);\n};\n\n// fetchImages.propTypes = {\n//   search: PropTypes.string.isRequired,\n//   page: PropTypes.number.isRequired,\n// };\n\nexport default fetchImages;\n","import React from 'react'\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css'\n\nconst ImageGalleryItem = ({ webformatURL,\n    largeImageURL,\n    tags = '',\n    onSetImgInfo,\n    openModal, }) => {\n    console.log(webformatURL)\n    return (\n        <li className={styles.ImageGalleryItem}>\n            <img src={webformatURL} alt={tags} className={styles.ImageGalleryItemImage} onClick={() => {\n                onSetImgInfo({ largeImageURL, tags });\n                openModal();\n            }} />\n        </li>\n    )\n}\n\nImageGalleryItem.propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string,\n    onSetImgInfo: PropTypes.func.isRequired,\n    openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react'\nimport ImageGalleryItem from './ImageGalleryItem'\nimport PropTypes from 'prop-types';\nimport styles from './ImageGallery.module.css'\n\nconst ImageGallery = ({ images, onSetImgInfo, openModal }) => {\n    return (\n        <ul className={styles.ImageGallery}>\n            {images.map(({ webformatURL, largeImageURL, tags, id }) => (\n                <ImageGalleryItem\n                    key={id}\n                    webformatURL={webformatURL}\n                    largeImageURL={largeImageURL}\n                    tags={tags}\n                    onSetImgInfo={onSetImgInfo}\n                    openModal={openModal} />\n            ))}\n        </ul>\n    )\n}\n\nImageGallery.propTypes = {\n    images: PropTypes.array.isRequired,\n    openModal: PropTypes.func.isRequired,\n    onSetImgInfo: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react'\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css'\n\nconst Button = ({ onLoadMore }) => {\n    return (\n        <button className={styles.Button} type='button' onClick={() => onLoadMore()}>Load more</button>\n    )\n}\n\nButton.propTypes = {\n    onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css'\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyDown);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyDown);\n    }\n\n    handleKeyDown = event => {\n        if (event.code === 'Escape') {\n            this.props.onClose();\n        }\n    };\n\n    handleBackdropClick = event => {\n        if (event.currentTarget === event.target) {\n            this.props.onClose();\n        }\n    };\n\n    render() {\n        return createPortal(\n            <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n                <div className={styles.Modal}>{this.props.children}</div>\n            </div>,\n            modalRoot,\n        );\n    }\n}\n\nModal.propTypes = {\n    children: PropTypes.node,\n    onClose: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar';\nimport searchApi from './services/search-api'\nimport ImageGallery from './components/ImageGallery'\nimport Button from './components/Button'\nimport Loader from \"react-loader-spinner\";\nimport Modal from './components/Modal';\nimport styles from './App.module.css'\n\nexport default class App extends Component {\n  state = {\n    search: '',\n    isLoading: false,\n    page: 1,\n    images: [],\n    showModal: false,\n    largeImageUrl: null,\n    imgTags: null,\n    error: null\n  }\n\n  componentDidMount() {\n\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.search !== this.state.search) {\n      this.fetchImages();\n    }\n  }\n\n  handleSubmit = query => {\n    if (this.state.search === query) {\n      return\n    }\n    this.setState({ search: query, page: 1, images: [] })\n  }\n\n  fetchImages = () => {\n    const { search, page } = this.state;\n\n    this.setState({ isLoading: true });\n\n    searchApi({ search, page }).then(images => {\n      if (images.length < 1) {\n        this.setState({ error: true })\n      } else {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images], page: prevState.page + 1, error: false,\n        }))\n        if (page !== 1) {\n          this.scrollToBottom()\n        }\n      }\n    }).catch(error => this.setState({ error })).finally(() => this.setState({ isLoading: false }))\n  }\n\n  scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    })\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal\n    }))\n  }\n\n  setImgInfo = ({ largeImageURL, tags }) => {\n    this.setState({ largeImageURL, tags })\n  }\n\n  render() {\n\n    const {\n      images,\n      showModal,\n      largeImageURL,\n      imgTags,\n      isLoading,\n    } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleSubmit} />\n        {isLoading && <Loader type=\"ThreeDots\" color=\"#006eff\" height={100} width={100} />}\n        <ImageGallery\n          images={images}\n          openModal={this.toggleModal}\n          onSetImgInfo={this.setImgInfo}\n        />\n        {images.length > 0 && !isLoading && (\n          <Button onLoadMore={this.fetchImages} />\n        )}\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt={imgTags} />\n          </Modal>\n        )}\n      </div >\n    );\n  }\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}