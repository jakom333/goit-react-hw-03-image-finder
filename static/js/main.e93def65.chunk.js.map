{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.jsx","services/search-api.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChangeQuery","currentTarget","setState","value","handelSubmit","e","preventDefault","props","onSubmit","this","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","name","onChange","Component","axios","defaults","baseURL","fetchImages","search","page","get","then","data","hits","ImageGalleryItem","webformatURL","largeImageURL","tags","onSetImgInfo","src","alt","ImageGalleryItemImage","data-largeimageurl","data-tags","onClick","ImageGallery","images","map","id","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","event","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","isLoading","showModal","largeImageUrl","imgTags","error","handleSubmit","searchApi","length","prevState","scrollToBottom","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","setImgInfo","dataset","largeimageurl","prevProps","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e93def65.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2qoWa\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3K8Z3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","import React, { Component } from 'react'\nimport styles from './Searchbar.module.css'\n\nexport default class Searchbar extends Component {\n    state = {\n        query: ''\n    }\n\n    handleChangeQuery = ({ currentTarget }) => {\n        this.setState({ query: currentTarget.value });\n    };\n\n    handelSubmit = e => {\n        e.preventDefault();\n        this.props.onSubmit(this.state.query);\n        this.setState({ query: '' })\n    }\n\n    render() {\n        const { query } = this.state;\n        return (\n            <header className={styles.Searchbar}>\n                <form className={styles.SearchForm} onSubmit={this.handelSubmit}>\n                    <button type=\"submit\" className={styles.SearchFormButton}>\n                        <span className={styles.SearchFormButtonLabel}>Search</span>\n                    </button>\n\n                    <input\n                        className={styles.SearchFormInput}\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search images and photos\"\n                        name='query'\n                        value={query}\n                        onChange={this.handleChangeQuery}\n                    />\n                </form>\n            </header >\n        )\n    }\n}\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst apiKey = '20188573-7bb6e1f85b49a99e39f48e5e2';\n\nconst fetchImages = ({ search = '', page = 1 }) => {\n  return axios\n    .get(\n      `/?q=${search}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(({ data }) => data.hits);\n};\n\n// fetchImages.propTypes = {\n//   search: PropTypes.string.isRequired,\n//   page: PropTypes.number.isRequired,\n// };\n\nexport default fetchImages;\n","import React from 'react'\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css'\n\nconst ImageGalleryItem = ({ webformatURL,\n    largeImageURL,\n    tags = '',\n    onSetImgInfo,\n}) => {\n\n    return (\n        <li className={styles.ImageGalleryItem}>\n            <img src={webformatURL} alt={tags} className={styles.ImageGalleryItemImage} data-largeimageurl={largeImageURL} data-tags={tags} onClick={onSetImgInfo} />\n        </li>\n    )\n}\n\nImageGalleryItem.propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string,\n    onSetImgInfo: PropTypes.func.isRequired,\n    openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react'\nimport ImageGalleryItem from './ImageGalleryItem'\nimport PropTypes from 'prop-types';\nimport styles from './ImageGallery.module.css'\n\nconst ImageGallery = ({ images, onSetImgInfo }) => {\n    return (\n        <ul className={styles.ImageGallery}>\n            {images.map(({ webformatURL, largeImageURL, tags, id }) => (\n                <ImageGalleryItem\n                    key={id}\n                    webformatURL={webformatURL}\n                    largeImageURL={largeImageURL}\n                    tags={tags}\n                    onSetImgInfo={onSetImgInfo}\n                />\n            ))}\n        </ul>\n    )\n}\n\nImageGallery.propTypes = {\n    images: PropTypes.array.isRequired,\n    openModal: PropTypes.func.isRequired,\n    onSetImgInfo: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react'\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css'\n\nconst Button = ({ onLoadMore }) => {\n    return (\n        <button className={styles.Button} type='button' onClick={() => onLoadMore()}>Load more</button>\n    )\n}\n\nButton.propTypes = {\n    onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css'\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyDown);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyDown);\n    }\n\n    handleKeyDown = event => {\n        if (event.code === 'Escape') {\n            this.props.onClose();\n        }\n    };\n\n    handleBackdropClick = event => {\n        if (event.currentTarget === event.target) {\n            this.props.onClose();\n        }\n    };\n\n    render() {\n        return createPortal(\n            <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n                <div className={styles.Modal}>{this.props.children}</div>\n            </div>,\n            modalRoot,\n        );\n    }\n}\n\nModal.propTypes = {\n    children: PropTypes.node,\n    onClose: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar';\nimport searchApi from './services/search-api'\nimport ImageGallery from './components/ImageGallery'\nimport Button from './components/Button'\nimport Loader from \"react-loader-spinner\";\nimport Modal from './components/Modal';\nimport styles from './App.module.css'\n\nexport default class App extends Component {\n  state = {\n    search: '',\n    isLoading: false,\n    page: 1,\n    images: [],\n    showModal: false,\n    largeImageUrl: null,\n    imgTags: null,\n    error: null\n  }\n\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.search !== this.state.search) {\n      this.fetchImages();\n    }\n  }\n\n  handleSubmit = query => {\n    if (this.state.search === query) {\n      return\n    }\n    this.setState({ search: query, page: 1, images: [] })\n  }\n\n  fetchImages = () => {\n    const { search, page } = this.state;\n\n    this.setState({ isLoading: true });\n\n    searchApi({ search, page }).then(images => {\n      if (images.length < 1) {\n        this.setState({ error: true })\n      } else {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images], page: prevState.page + 1, error: false,\n        }))\n        if (page !== 1) {\n          this.scrollToBottom()\n        }\n      }\n    }).catch(error => this.setState({ error })).finally(() => this.setState({ isLoading: false }))\n  }\n\n  scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    })\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal\n    }))\n  }\n\n  setImgInfo = ({ target }) => {\n    const { largeimageurl, tags } = target.dataset;\n    this.setState({ largeImageURL: largeimageurl, imgTags: tags });\n    this.toggleModal();\n  }\n\n  render() {\n\n    const {\n      images,\n      showModal,\n      largeImageURL,\n      imgTags,\n      isLoading,\n    } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleSubmit} />\n        {isLoading && <Loader type=\"ThreeDots\" color=\"#006eff\" height={100} width={100} />}\n        <ImageGallery\n          images={images}\n          onSetImgInfo={this.setImgInfo}\n        />\n        {images.length > 0 && !isLoading && (\n          <Button onLoadMore={this.fetchImages} />\n        )}\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt={imgTags} />\n          </Modal>\n        )}\n      </div >\n    );\n  }\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}